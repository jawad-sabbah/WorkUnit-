<%- include('../../partials/header') %>

<div class="max-w-3xl mx-auto my-12 p-8 bg-white rounded-xl shadow-lg">
  <h1 class="text-3xl font-semibold mb-6 text-gray-800">Edit Project</h1>

  <form action="/dashboard/projects/<%= project.id %>/edit" method="POST" class="space-y-6">
    
    <!-- Project Title -->
    <div>
      <label for="name" class="block text-sm font-medium text-gray-700 mb-1">
        Project Title
      </label>
      <input
        type="text"
        name="name"
        id="name"
        value="<%= project.name %>"
        required
        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
      />
    </div>

    <!-- Project Description -->
    <div>
      <label for="description" class="block text-sm font-medium text-gray-700 mb-1">
        Description
      </label>
      <textarea
        name="description"
        id="description"
        rows="4"
        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
      ><%= project.description %></textarea>
    </div>

    <!-- Optional: Owner (if editable) -->
    <% if (typeof users !== 'undefined') { %>
      <div>
        <label for="owner_id" class="block text-sm font-medium text-gray-700 mb-1">
          Project Owner
        </label>
        <select
          name="owner_id"
          id="owner_id"
          class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
        >
          <% users.forEach(user => { %>
            <option value="<%= user.id %>" <%= project.owner_id === user.id ? 'selected' : '' %>>
              <%= user.username %>
            </option>
          <% }) %>
        </select>
      </div>
    <% } %>

    <!-- Buttons -->
    <div class="flex items-center justify-between space-x-4">
      <a href="/dashboard" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition">
        Cancel
      </a>
      <button
        type="submit"
        class="px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition"
      >
        Save Changes
      </button>
    </div>
  </form>
</div>

<%- include('../../partials/footer') %>
